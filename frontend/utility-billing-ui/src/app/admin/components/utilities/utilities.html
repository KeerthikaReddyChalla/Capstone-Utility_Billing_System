<div class="utilities-page">

  <div class="header">
    <h2>Utilities</h2>
    <p>Manage available utility services in the system</p>
  </div>

  <!-- CREATE -->
  <div class="create-card">
    <h3>Add New Utility</h3>

    <input
      type="text"
      placeholder="Utility name"
      [(ngModel)]="utilityForm.name"
    />

    <textarea
      placeholder="Short description (optional)"
      [(ngModel)]="utilityForm.description"
    ></textarea>

    <button class="primary-btn" (click)="createUtility()">
      Add Utility
    </button>
  </div>

  <!-- LOADING -->
  <p *ngIf="loading" class="info">Loading utilities...</p>

  <!-- LIST -->
  <div class="utility-grid" *ngIf="!loading && utilities.length > 0">
    <div class="utility-card" *ngFor="let u of utilities">

      <div class="card-top">
        <span class="icon"></span>
        <button class="delete"
                (click)="openDeleteConfirm(u)">
          âœ•
        </button>
      </div>

      <h4>{{ u.name }}</h4>
      <p>{{ u.description || 'No description provided' }}</p>

    </div>
  </div>

  <!-- EMPTY -->
  <p *ngIf="!loading && utilities.length === 0" class="empty">
    No utilities created yet
  </p>

</div>

<!-- CONFIRM MODAL -->
<div class="confirm-overlay" *ngIf="showConfirm">
  <div class="confirm-box">

    <h3>Delete Utility</h3>
    <p>
      Are you sure you want to delete
      <strong>{{ selectedUtility?.name }}</strong>?
    </p>

    <div class="confirm-actions">
      <button class="danger" (click)="confirmDelete()">Delete</button>
      <button class="cancel" (click)="closeConfirm()">Cancel</button>
    </div>

  </div>
</div>
